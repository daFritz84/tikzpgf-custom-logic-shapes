\documentclass[10pt,a4paper]{article}

%%
%% packages
%%
\usepackage{pgf,tikz}

%%
%% tikz libraries
%%
\usetikzlibrary{
	circuits.logic.custom,
	circuits.logic.IEC,
}

%%
%% document
%%
\begin{document}
	\begin{tikzpicture}[very thick, circuit logic]  
	
		%%
		%% half subtractor
		%%
		\draw 
			(0,0) node [halfsub, minimum width=1.5cm, minimum height=1cm, inputs={nn}, draw]	(HALFSUB) {};
		\draw (HALFSUB.input 1) -- ([yshift=0.5cm]HALFSUB.input 1)  
			node [anchor=south] {$a$};
		\draw (HALFSUB.input 2) -- ([yshift=0.5cm]HALFSUB.input 2)
			node [anchor=south] {$b$};
		\draw (HALFSUB.diff) -- ([yshift=-0.5cm]HALFSUB.diff)
			node [anchor=north] {$a - b$};
		\draw (HALFSUB.carry) -- ([xshift=-0.5cm]HALFSUB.carry) 
			node [anchor=east] {$carry$};
			
		%%
		%% multiplexer
		%%
		\draw 
			(4,0) node [mux, minimum width=1.5cm, minimum height=3cm, inputs={nnnn}, draw] (MUX) {$4~to~1$};
			
		\foreach \a in {1,...,4}
			\draw ([xshift=-0.5cm]MUX.input \a) node [anchor=east] {$i_{\a}$} -- (MUX.input \a);
		\foreach \a in {1,...,2}
			\draw ([xshift=-0.5cm]MUX.select \a) node [anchor=east] {$s_{\a}$} -- (MUX.select \a);
		\draw (MUX.output) -- ([xshift=0.5cm]MUX.output) node [anchor=west] {$o$};
		
		%%
		%% demultiplexer
		%%
		\draw 
		(8,0) node [dmux, minimum width=1.5cm, minimum height=3cm, inputs={n}, dmux ctrlinputs=2, draw] (DMUX) {$1~to~4$};
		
		\draw ([xshift=-0.5cm]DMUX.input 1) node [anchor=east] {$i$} -- (DMUX.input 1);
		\foreach \a in {1,...,2}
			\draw ([xshift=-0.5cm]DMUX.select \a) node [anchor=east] {$s_{\a}$} -- (DMUX.select \a);
		\foreach \a in {1,...,4}
			\draw ([xshift=+0.5cm]DMUX.output \a) node [anchor=west] {$o_{\a}$} -- (DMUX.output \a);
		
		
		%%
		%% RS-Latch
		%%
		\draw
			(0,4) node [rslatch, minimum width=1.5cm, minimum height=2.5cm, draw] (RSLATCH) {};
		\draw (RSLATCH.R) -- ([xshift=-0.5cm]RSLATCH.R);
		\draw (RSLATCH.S) -- ([xshift=-0.5cm]RSLATCH.S);
		\draw (RSLATCH.Q) -- ([xshift=0.5cm]RSLATCH.Q);
		\draw (RSLATCH.Qn) -- ([xshift=0.5cm]RSLATCH.Qn);
		
		%%
		%% D-FlipFlop
		%%
		\draw
			(4,4) node [dflipflop, minimum width=1.5cm, minimum height=2.5cm, draw] (DFF) {};
		\draw (DFF.D) -- ([xshift=-0.5cm]DFF.D);
		\draw (DFF.CLK) -- ([xshift=-0.5cm]DFF.CLK);
		\draw (DFF.Q) -- ([xshift=0.5cm]DFF.Q);
		\draw (DFF.Qn) -- ([xshift=0.5cm]DFF.Qn);
	
	\end{tikzpicture}
\end{document}